  <app-header title="Shuffle"></app-header>

<ion-content [fullscreen]="true">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
  <ion-segment [(ngModel)]="sectionSelected" (ionChange)="segmentChanged($event)">
    <ion-segment-button value="{{sections.first}}">
      <ion-label>No Filters</ion-label>
    </ion-segment-button>
    <ion-segment-button value="{{sections.second}}">
      <ion-label>Filters</ion-label>
    </ion-segment-button>
  </ion-segment>
  <ion-row *ngIf="filtered && filtersApplied">
    <ion-col>

    </ion-col>
    <ion-col>
        <ion-badge color="danger">Filters Applied
            <ion-icon name="close" (click)="clearFilter()"></ion-icon>
        </ion-badge>
    </ion-col>
  </ion-row>
  <ion-item *ngIf="filtered">
      <ion-label>Select a filter</ion-label>
      <ion-select placeholder="None" [formControl]="type">
          <ion-select-option value="">No filters</ion-select-option>
          <ion-select-option value="Name">Name</ion-select-option>
          <ion-select-option value="Tags">Tags</ion-select-option>
          <ion-select-option value="Meaning">Meaning</ion-select-option>
          <ion-select-option value="Synonyms">Synonyms</ion-select-option>
      </ion-select>
    <!-- Searchbar with cancel button shown on focus -->
    <ion-searchbar style="width: 50% !important" showCancelButton="focus" [formControl]="keyword"></ion-searchbar>
    <ion-button style="--background: #cc0000; --color:#f2f2f2" (click)="applyFilters()">
      <ion-icon name="search">
      </ion-icon>
    </ion-button>
  </ion-item>

  <ion-list *ngIf="!loading" lines="none">
    <ion-item *ngFor="let word of words" >
        <ion-card style="min-width: 200px; width: auto">
          <ion-card-header>
            <ion-card-title>{{word.name}}</ion-card-title>
            <ion-card-subtitle>{{word.meaning}}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <ion-list>
              <h5>Sentences:</h5>
              <ion-item *ngFor="let sentence of word.sentence">
                  <ion-card style="width: 100%;">
                      <ion-card-content style="word-wrap: break-word;!important">{{sentence.tag}}</ion-card-content>
                  </ion-card>
                  <br>
              </ion-item>
            </ion-list>
            <ion-list>
              <h5>Tags:</h5>
              <ion-item *ngFor="let tag of word.tags">
              <ion-card style="width: auto; height: auto">
                  <ion-card-content>{{tag.tag}}</ion-card-content>
              </ion-card>
            </ion-item>
            </ion-list>
            <ion-list>
              <h5>Types:</h5>
              <ion-item *ngFor="let type of word.types">
                <ion-card style="width: auto; height: auto">
                    <ion-card-content>{{type}}</ion-card-content>
                </ion-card>
              </ion-item>
            </ion-list>
            <ion-list>
                <h5>Synonyms:</h5>
                <ion-item *ngFor="let synonym of word.synonyms">
                <ion-card style="width: auto; height: auto">
                    <ion-card-content>{{synonym.tag}}</ion-card-content>
                </ion-card>
              </ion-item>
            </ion-list>
          </ion-card-content>
        </ion-card>
    </ion-item>
  </ion-list>
  <!-- <div class="ion-padding custom-skeleton">
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      <ion-skeleton-text animated></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
    </div> -->
    <ion-list *ngIf="loading">
      <ion-item *ngFor="let x of skeletonArray">
        <ion-label>
          <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
        </ion-label>
      </ion-item>
    </ion-list>
</ion-content>

